<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Test Energie</title>
    <style>
        body { font-family: sans-serif; padding: 20px; line-height: 1.6; }
        .input-box { background: #eee; padding: 20px; border-radius: 10px; margin-bottom: 20px; }
        input { display: block; margin-bottom: 10px; padding: 8px; width: 200px; }
        #resultaat { font-weight: bold; color: blue; font-size: 1.2em; }
    </style>
</head>
<body>
    <h1>Energie Extrapolatie Test</h1>
    
    <div class="input-box">
        <label>Datum stand:</label>
        <input type="date" id="datum" onchange="bereken()">
        
        <label>Verbruik (kWh):</label>
        <input type="number" id="verbruik" value="100" oninput="bereken()">
        
        <label>Prijs per kWh (excl):</label>
        <input type="number" id="prijs" value="0.10" step="0.01" oninput="bereken()">
    </div>

    <div id="resultaat">Resultaat verschijnt hier...</div>

    <script>
        function bereken() {
            const v = parseFloat(document.getElementById('verbruik').value) || 0;
            const p = parseFloat(document.getElementById('prijs').value) || 0;
            const dStr = document.getElementById('datum').value;
            
            if(!dStr) return;

            const onderdelen = dStr.split('-');
            const dag = parseInt(onderdelen[2]);
            const maand = parseInt(onderdelen[1]);
            const jaar = parseInt(onderdelen[0]);
            
            const dagenInMaand = new Date(jaar, maand, 0).getDate();
            const extrapolatie = (v / dag) * dagenInMaand;
            const kost = extrapolatie * p * 1.06; // incl 6% btw

            document.getElementById('resultaat').innerHTML = 
                "Dagen in maand: " + dagenInMaand + "<br>" +
                "Voorspeld verbruik: " + extrapolatie.toFixed(2) + " kWh<br>" +
                "Voorspelde kost: â‚¬ " + kost.toFixed(2);
        }

        // Bij opstarten:
        window.onload = function() {
            const vandaag = new Date();
            vandaag.setDate(vandaag.getDate() - 2);
            const dag = String(vandaag.getDate()).padStart(2, '0');
            const maand = String(vandaag.getMonth() + 1).padStart(2, '0');
            const jaar = vandaag.getFullYear();
            
            document.getElementById('datum').value = jaar + "-" + maand + "-" + dag;
            bereken();
        };
    </script>
</body>
</html>
